{
  "workflow": {
    "unique_name": "definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5",
    "name": "Modify VLAN DHCP Pool",
    "title": "Modify VLAN DHCP Pool",
    "type": "generic.workflow",
    "base_type": "workflow",
    "variables": [
      {
        "schema_id": "datatype.integer",
        "properties": {
          "value": 0,
          "scope": "output",
          "name": "Status Code",
          "type": "datatype.integer",
          "description": "Provides the Output Status Code for the Workflow",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02Q8JAJKYY0061df1osT56uLvPGCmrCvve4",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Network Name",
          "type": "datatype.string",
          "description": "The Meraki Network in which the modifcation will occur.",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02Q8JAJKYYH0X5iG6TOs2IV3XqFcMcVPgu9",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "Result",
          "type": "datatype.string",
          "description": "The result of the Workflow Execution",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02Q8JAJKYY68D3FlzdQowaVoDIZgP6TEMEH",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "Error Message",
          "type": "datatype.string",
          "description": "Set when an Error has occured.",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": ""
        },
        "unique_name": "variable_workflow_02Q8JAJKYZ9B61FZnoOqW5Ny8jNkZ6kibhu",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "Organization Name",
          "type": "datatype.string",
          "description": "The Organization containing the Network in which the DHCP Pool Modification will occur.\n",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02Q8JAJKYXN1S2z9X0RJbOx56WDSAQvqnaX",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "IP Subnet",
          "type": "datatype.string",
          "description": "The new gateway IP address and subnet mask (in CIDR format) to apply to the VLAN interface.\n\nExample: 10.10.10.1/28\n\nMust be a valid host address inside the subnet.\n\nThe subnet mask determines the DHCP pool size for this VLAN.",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02Q8JAJKYYBVJ5RUbmjK3oXzjFQ0vISypnq",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "output",
          "name": "Status Message",
          "type": "datatype.string",
          "description": "The Status Message Returned for the Workflow",
          "is_required": false,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02Q8JAJKYYVZM7VtAWqfYPsM30jpJMSYAnu",
        "object_type": "variable_workflow"
      },
      {
        "schema_id": "datatype.string",
        "properties": {
          "value": "",
          "scope": "input",
          "name": "VLAN ID",
          "type": "datatype.string",
          "description": "The VLAN ID Associated with the DHCP Pool to be Modified.",
          "is_required": true,
          "display_on_wizard": false,
          "is_invisible": false,
          "variable_string_format": "text"
        },
        "unique_name": "variable_workflow_02Q8JAJKYYM5464nu5HoWx65j7aWGbT27uw",
        "object_type": "variable_workflow"
      }
    ],
    "properties": {
      "atomic": {
        "is_atomic": false
      },
      "delete_workflow_instance": false,
      "description": "This workflow updates the DHCP pool size for a VLAN in a Meraki network.\n\nThe operator must provide the following inputs:\n\n  Meraki Organization Name:\n  The organization in the Meraki Dashboard where the target network resides.\n\n  Meraki Network:\n  The specific Meraki network within the organization that contains the VLAN.\n\n  VLAN ID:\n  The identifier of the VLAN you want to modify.\n\n  IP Address & Mask:\n  The gateway IP and subnet mask in CIDR format (e.g., 10.10.20.1/24).\n\nWorkflow then defines the new subnet and DHCP pool size for the VLAN. \nMust be a valid host address inside the subnet.\nAI is used to provide advanced summarization of the worfklow results.",
      "display_name": "Modify VLAN DHCP Pool",
      "runtime_user": {
        "target_default": true
      },
      "target": {
        "target_type": "meraki.endpoint",
        "specify_on_workflow_start": true
      }
    },
    "object_type": "definition_workflow",
    "actions": [
      {
        "unique_name": "definition_activity_02Q8JAJP1H4RG4mmAkSGxZXFQeZrixLUs2g",
        "name": "Group",
        "title": "Validate Input Values",
        "type": "logic.group",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "description": "Group",
          "display_as_suggestion": false,
          "display_name": "Validate Input Values",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "actions": [
          {
            "unique_name": "definition_activity_02Q9DCCL32S6L1ZqUtJhlZwAXrhQHitur9Z",
            "name": "Parallel Block",
            "title": "Validate Inputs",
            "type": "logic.parallel",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "description": "Ensure Required Inputs are Valid",
              "display_name": "Validate Inputs",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "blocks": [
              {
                "unique_name": "definition_activity_02Q9DCCLXSTG72rA8Za7yFtmYM6uarlYECl",
                "name": "Parallel Branch",
                "title": "Parallel Branch",
                "type": "logic.parallel_block",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Parallel Branch",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02Q8JAJQNG7HL1p9VBHfid6sO2A6XYfz2om",
                    "name": "Execute Python Script",
                    "title": "Validate Meraki GW IP and Range",
                    "type": "python3.script",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "continue_on_failure": false,
                      "description": "Validate the the GW IP Address and Range are valid for this workflow.",
                      "display_name": "Validate Meraki GW IP and Range",
                      "script": "#!/usr/bin/env python3\nimport sys\nimport ipaddress\nimport json\n\ndef is_valid_meraki_vlan_interface(cidr: str) -> bool:\n    \"\"\"\n    Validate a Meraki-style VLAN interface entry (host IP + prefix).\n    Rules:\n      - Must include a slash.\n      - Must be a valid ip_interface (IPv4 or IPv6).\n      - IPv4: subnet must be /30 or larger (prefixlen <= 30).\n      - IPv4: IP cannot be the network or broadcast address.\n      - IPv6: accept any valid ip_interface.\n    \"\"\"\n    if \"/\" not in cidr:\n        return False\n\n    try:\n        iface = ipaddress.ip_interface(cidr.strip())\n    except ValueError:\n        return False\n\n    if isinstance(iface.ip, ipaddress.IPv4Address):\n        net = iface.network\n        # Meraki VLANs require /30 or larger\n        if net.prefixlen > 30:\n            return False\n        # Disallow network or broadcast addresses\n        if iface.ip == net.network_address or iface.ip == net.broadcast_address:\n            return False\n\n    return True\n\n# --- Script execution  ---\n\ncidr = sys.argv[1] \ncheckResult: bool = is_valid_meraki_vlan_interface(cidr)\nprint(json.dumps({\"checkResult\": checkResult}))",
                      "script_arguments": [
                        "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.input.variable_workflow_02Q8JAJKYYBVJ5RUbmjK3oXzjFQ0vISypnq$"
                      ],
                      "script_queries": [
                        {
                          "script_query": "checkResult",
                          "script_query_name": "checkResult",
                          "script_query_type": "boolean"
                        }
                      ],
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02Q8JAJRL1WYR40a2I7XtDtZTlUaefFP3u1",
                    "name": "Condition Block",
                    "title": "Handle invalid Input",
                    "type": "logic.if_else",
                    "base_type": "activity",
                    "properties": {
                      "conditions": [],
                      "continue_on_failure": false,
                      "description": "If-Else condition block",
                      "display_name": "Handle invalid Input",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "blocks": [
                      {
                        "unique_name": "definition_activity_02Q8JAJSNLXOT6rCqeW03KGjc9PnmkhQqMV",
                        "name": "Condition Branch",
                        "title": "Was the IP Address Format Invalid?",
                        "type": "logic.condition_block",
                        "base_type": "activity",
                        "properties": {
                          "condition": {
                            "left_operand": "$activity.definition_activity_02Q8JAJQNG7HL1p9VBHfid6sO2A6XYfz2om.output.script_queries.checkResult$",
                            "operator": "eq",
                            "right_operand": false
                          },
                          "continue_on_failure": false,
                          "description": "If Invalid, set output values and end workflow.",
                          "display_name": "Was the IP Address Format Invalid?",
                          "skip_execution": false
                        },
                        "object_type": "definition_activity",
                        "actions": [
                          {
                            "unique_name": "definition_activity_02Q8JAJTYM38S0cJPoq8a6JziFNGIPH39qK",
                            "name": "Set Variables",
                            "title": "Set Output Variables",
                            "type": "core.set_multiple_variables",
                            "base_type": "activity",
                            "properties": {
                              "continue_on_failure": false,
                              "description": "Set Variables",
                              "display_name": "Set Output Variables",
                              "skip_execution": false,
                              "variables_to_update": [
                                {
                                  "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYY0061df1osT56uLvPGCmrCvve4$",
                                  "variable_value_new": 400
                                },
                                {
                                  "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYZ9B61FZnoOqW5Ny8jNkZ6kibhu$",
                                  "variable_value_new": "IP Address and Range provided is invalid for this operation. Please check the value provided and try again."
                                },
                                {
                                  "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYYVZM7VtAWqfYPsM30jpJMSYAnu$",
                                  "variable_value_new": "Failed"
                                }
                              ]
                            },
                            "object_type": "definition_activity"
                          },
                          {
                            "unique_name": "definition_activity_02Q8JAJV03DYJ5sFz4lq3tATKay4USqLmW9",
                            "name": "Completed",
                            "title": "End Workflow",
                            "type": "logic.completed",
                            "base_type": "activity",
                            "properties": {
                              "completion_type": "failed-completed",
                              "continue_on_failure": false,
                              "description": "Completed action",
                              "display_name": "End Workflow",
                              "result_message": "The IP Range Provided is Invalid. ",
                              "skip_execution": false
                            },
                            "object_type": "definition_activity"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "unique_name": "definition_activity_02Q9DCCN2KY011gENAB05kOEhI9N9xnIy2k",
                "name": "Parallel Branch",
                "title": "Parallel Branch",
                "type": "logic.parallel_block",
                "base_type": "activity",
                "properties": {
                  "continue_on_failure": false,
                  "display_name": "Parallel Branch",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02Q9DCS7L8XB71lLASFU1kHnhZSpfxWd77W",
                    "name": "Execute Python Script",
                    "title": "Validate VLAN ID",
                    "type": "python3.script",
                    "base_type": "activity",
                    "properties": {
                      "action_timeout": 180,
                      "continue_on_failure": false,
                      "description": "Check the VLANs to ensure it is between 1 - 4094",
                      "display_name": "Validate VLAN ID",
                      "script": "#!/usr/bin/env python3\nimport sys\nimport json\n\ndef is_valid_vlan_id(vlan_id_str: str) -> bool:\n    \"\"\"\n    Validate a VLAN ID provided as a string.\n    Rules:\n      - Must be numeric\n      - Must convert cleanly to integer\n      - Must be in the valid VLAN range (1â€“4094)\n    \"\"\"\n    try:\n        vlan_id_int = int(vlan_id_str.strip())\n    except (ValueError, AttributeError):\n        return False\n\n    return 1 <= vlan_id_int <= 4094\n\n# --- Script execution ---\nvlan_id_str = sys.argv[1]\nvlanResult: bool = is_valid_vlan_id(vlan_id_str)\nprint(json.dumps({\"vlanResult\": vlanResult}))",
                      "script_arguments": [
                        "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.input.variable_workflow_02Q8JAJKYYM5464nu5HoWx65j7aWGbT27uw$"
                      ],
                      "script_queries": [
                        {
                          "script_query": "vlanResult",
                          "script_query_name": "vlanResult",
                          "script_query_type": "boolean"
                        }
                      ],
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02Q9DK85B6T4Q6vG100vYnroBUzmVVUoRHv",
                    "name": "Condition Block",
                    "title": "Handle Invalid Input",
                    "type": "logic.if_else",
                    "base_type": "activity",
                    "properties": {
                      "conditions": [],
                      "continue_on_failure": false,
                      "description": "If-Else condition block",
                      "display_name": "Handle Invalid Input",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity",
                    "blocks": [
                      {
                        "unique_name": "definition_activity_02Q9DJS9G9FOG56E0VzKXL3rGg1zoEaDDEx",
                        "name": "Condition Branch",
                        "title": "Was the IP Address Format Invalid?",
                        "type": "logic.condition_block",
                        "base_type": "activity",
                        "properties": {
                          "condition": {
                            "left_operand": "$activity.definition_activity_02Q9DCS7L8XB71lLASFU1kHnhZSpfxWd77W.output.script_queries.vlanResult$",
                            "operator": "eq",
                            "right_operand": "false"
                          },
                          "continue_on_failure": false,
                          "description": "If Invalid, set output values and end workflow.",
                          "display_name": "Was the IP Address Format Invalid?",
                          "skip_execution": false
                        },
                        "object_type": "definition_activity",
                        "actions": [
                          {
                            "unique_name": "definition_activity_02Q9DJS9IJURH6dmtxPHOifma8PLzD9S12g",
                            "name": "Set Variables",
                            "title": "Set Output Variables",
                            "type": "core.set_multiple_variables",
                            "base_type": "activity",
                            "properties": {
                              "continue_on_failure": false,
                              "description": "Set Variables",
                              "display_name": "Set Output Variables",
                              "skip_execution": false,
                              "variables_to_update": [
                                {
                                  "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYY0061df1osT56uLvPGCmrCvve4$",
                                  "variable_value_new": 400
                                },
                                {
                                  "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYZ9B61FZnoOqW5Ny8jNkZ6kibhu$",
                                  "variable_value_new": "The VLAN is invalid. Please ensure a value between 1-4094."
                                },
                                {
                                  "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYYVZM7VtAWqfYPsM30jpJMSYAnu$",
                                  "variable_value_new": "Failed"
                                }
                              ]
                            },
                            "object_type": "definition_activity"
                          },
                          {
                            "unique_name": "definition_activity_02Q9DJS9MNZPC3ecd8eqvKIZLli4nsShKht",
                            "name": "Completed",
                            "title": "End Workflow",
                            "type": "logic.completed",
                            "base_type": "activity",
                            "properties": {
                              "completion_type": "failed-completed",
                              "continue_on_failure": false,
                              "description": "Completed action",
                              "display_name": "End Workflow",
                              "result_message": "The VLAN is invalid. Please ensure a value between 1-4094.",
                              "skip_execution": false
                            },
                            "object_type": "definition_activity"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "unique_name": "definition_activity_02Q8JAJNMBV6P643NL7oG6eJENg6MgXFvVf",
        "name": "Group",
        "title": "Determine the Meraki Organization and Network to Modify",
        "type": "logic.group",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "description": "Group",
          "display_as_suggestion": false,
          "display_name": "Determine the Meraki Organization and Network to Modify",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "actions": [
          {
            "unique_name": "definition_activity_02Q8JAJWF9RD803iWC7am6FkqSQLLhytOKp",
            "name": "Meraki - Get Organization By Name",
            "title": "Meraki - Get Organization By Name",
            "type": "workflow.sub_workflow",
            "base_type": "subworkflow",
            "properties": {
              "continue_on_failure": true,
              "description": "**Cisco Meraki - Organizations - Get Organization By Name**\n\nA utility to lookup the Organization by Name. \n\n**Target:** A Meraki Endpoint using HTTPS \"api.meraki.com\" port 443 and no path.\n\n**Account Key:** Meraki User API Key. API Key can be generated from Meraki Dashboard -> User Profile -> API Access.\n",
              "display_name": "Meraki - Get Organization By Name",
              "input": {
                "variable_workflow_02M605GTHU5L72i8goD4nuYixYOvQEFV7rN": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.input.variable_workflow_02Q8JAJKYXN1S2z9X0RJbOx56WDSAQvqnaX$",
                "variable_workflow_02M605GTI1LUG737lDLyzxnE9jwENJNQ08W": false
              },
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "target_type": "meraki.endpoint",
                "use_workflow_target": true
              },
              "workflow_id": "definition_workflow_02M605GS81XN44qr4RBWrJ6Zazk7k0ArIYX",
              "workflow_name": "Meraki - Get Organization By Name or ID"
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02Q8JAJXRM3A81g8M7ZeP9l0RYwkiy8yLZ0",
            "name": "Condition Block",
            "title": "Ensure Organization ID was Retrieved",
            "type": "logic.if_else",
            "base_type": "activity",
            "properties": {
              "conditions": [],
              "continue_on_failure": false,
              "description": "Examine the Result of the \"Meraki - Get Organization by Name\" subworkflow to ensure it  executed properly.",
              "display_name": "Ensure Organization ID was Retrieved",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "blocks": [
              {
                "unique_name": "definition_activity_02Q8JAJYQN86E3TGG33RB1naCplWVjPn44Y",
                "name": "Condition Branch",
                "title": "Was the Organization not found?",
                "type": "logic.condition_block",
                "base_type": "activity",
                "properties": {
                  "condition": {
                    "left_operand": "$activity.definition_activity_02Q8JAJWF9RD803iWC7am6FkqSQLLhytOKp.output.variable_workflow_02M605GTHEWOW4TGG1xjMEivKqrrMbc2hM3$",
                    "operator": "ne",
                    "right_operand": 200
                  },
                  "continue_on_failure": false,
                  "description": "Was the Status Code from the Workflow not a valie 200 Success.",
                  "display_name": "Was the Organization not found?",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02Q8JAK0UBWYD5DtEVjsiv6MyAQOITNnCRK",
                    "name": "Set Variables",
                    "title": "Set Variables",
                    "type": "core.set_multiple_variables",
                    "base_type": "activity",
                    "properties": {
                      "continue_on_failure": false,
                      "description": "Set Variables",
                      "display_name": "Set Variables",
                      "skip_execution": false,
                      "variables_to_update": [
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYY68D3FlzdQowaVoDIZgP6TEMEH$",
                          "variable_value_new": "The Workflow Failed to Retrieve the Organization Id from the name provided.\n\nPlease check if the Organization Name, $workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.input.variable_workflow_02Q8JAJKYXN1S2z9X0RJbOx56WDSAQvqnaX$, was provided in error."
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYY0061df1osT56uLvPGCmrCvve4$",
                          "variable_value_new": "$activity.definition_activity_02Q8JAJWF9RD803iWC7am6FkqSQLLhytOKp.output.variable_workflow_02M605GTHEWOW4TGG1xjMEivKqrrMbc2hM3$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYYVZM7VtAWqfYPsM30jpJMSYAnu$",
                          "variable_value_new": "$activity.definition_activity_02Q8JAJWF9RD803iWC7am6FkqSQLLhytOKp.output.variable_workflow_02M605GTIWHFI3iui9r08gEQgBmIFLqet5B$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYZ9B61FZnoOqW5Ny8jNkZ6kibhu$",
                          "variable_value_new": "$activity.definition_activity_02Q8JAJWF9RD803iWC7am6FkqSQLLhytOKp.output.variable_workflow_02M626PI3Q2OV0mssfVdKVoL7b05VXvEYFK$"
                        }
                      ]
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02Q8JAK2ACJEA5ir2uyuh5IH7OId5XilUTK",
                    "name": "Completed",
                    "title": "End Workflow",
                    "type": "logic.completed",
                    "base_type": "activity",
                    "properties": {
                      "completion_type": "failed-completed",
                      "continue_on_failure": false,
                      "description": "Completed action",
                      "display_name": "End Workflow",
                      "result_message": "Meraki Organization Name, $workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.input.variable_workflow_02Q8JAJKYXN1S2z9X0RJbOx56WDSAQvqnaX$, not found.",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  }
                ]
              }
            ]
          },
          {
            "unique_name": "definition_activity_02Q8JAK3S24RQ5vsm5HuKAcCnAqdvnFObtb",
            "name": "Meraki - Get Network By Name",
            "title": "Meraki - Get Network By Name",
            "type": "workflow.sub_workflow",
            "base_type": "subworkflow",
            "properties": {
              "continue_on_failure": true,
              "description": "**Cisco Meraki - Networks - Get Network By Name**\n\nA utility to lookup the Network by Name. \n\n**Target:** A Meraki Endpoint using HTTPS \"api.meraki.com\" port 443 and no path.\n\n**Account Key:** Meraki User API Key. API Key can be generated from Meraki Dashboard -> User Profile -> API Access.\n",
              "display_name": "Meraki - Get Network By Name",
              "input": {
                "variable_workflow_02LCRACABYWD40LVa27k00YndGuostARjdp": "$activity.definition_activity_02Q8JAJWF9RD803iWC7am6FkqSQLLhytOKp.output.variable_workflow_02M605GTJITQP1fcLQlR8CLYAHoMomGWZvE$",
                "variable_workflow_02LCRAQ5WICDM3PgxFwKyi19yaeu1bTpVUx": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.input.variable_workflow_02Q8JAJKYYH0X5iG6TOs2IV3XqFcMcVPgu9$",
                "variable_workflow_02LEUF5N782ES5q1O7K4p1AoMBPrkkcxi1E": false,
                "variable_workflow_02Q7QAYO3GMXK1F8eC0UiZ7xRXnHB5k71O7": ""
              },
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "target_type": "meraki.endpoint",
                "use_workflow_target": true
              },
              "workflow_id": "definition_workflow_02LCR4UKH38PM6zDR4Bx2b2J165gCF1mhvh",
              "workflow_name": "Meraki - Get Network By Name or ID"
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02Q8JAK5LOQBJ2MJ5y4Pd7XO0gcBYtPCofQ",
            "name": "Condition Block",
            "title": "Ensure Meraki Network was Found",
            "type": "logic.if_else",
            "base_type": "activity",
            "properties": {
              "conditions": [],
              "continue_on_failure": false,
              "description": "Error Checking to ensure the Meraki Network exists before running the remaining workflow execution.",
              "display_name": "Ensure Meraki Network was Found",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "blocks": [
              {
                "unique_name": "definition_activity_02Q8JAK6OLN9T1u2C6m7KY24Gg1y9UInRv1",
                "name": "Condition Branch",
                "title": "Was the Network Name not Found?",
                "type": "logic.condition_block",
                "base_type": "activity",
                "properties": {
                  "condition": {
                    "left_operand": "$activity.definition_activity_02Q8JAK3S24RQ5vsm5HuKAcCnAqdvnFObtb.output.variable_workflow_02LCS9H7YNIYX1GDaReaAe3aek2b4CnpPEW$",
                    "operator": "ne",
                    "right_operand": 200
                  },
                  "continue_on_failure": false,
                  "display_name": "Was the Network Name not Found?",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02Q8JAK8OFPIU3OGvooRgdOk2hj3hIxSyjs",
                    "name": "Set Variables",
                    "title": "Set Variables",
                    "type": "core.set_multiple_variables",
                    "base_type": "activity",
                    "properties": {
                      "continue_on_failure": false,
                      "description": "Set Variables",
                      "display_name": "Set Variables",
                      "skip_execution": false,
                      "variables_to_update": [
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYY68D3FlzdQowaVoDIZgP6TEMEH$",
                          "variable_value_new": "The Workflow Failed to Retrieve the Meraki Network from the name provided.\n\nPlease check if the Meraki Network Name, $workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.input.variable_workflow_02Q8JAJKYYH0X5iG6TOs2IV3XqFcMcVPgu9$, was provided in error."
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYY0061df1osT56uLvPGCmrCvve4$",
                          "variable_value_new": "$activity.definition_activity_02Q8JAK3S24RQ5vsm5HuKAcCnAqdvnFObtb.output.variable_workflow_02LCS9H7YNIYX1GDaReaAe3aek2b4CnpPEW$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYYVZM7VtAWqfYPsM30jpJMSYAnu$",
                          "variable_value_new": "$activity.definition_activity_02Q8JAK3S24RQ5vsm5HuKAcCnAqdvnFObtb.output.variable_workflow_02LCSAES32AOH7RGaVHj5aM3SixcS34Qdqc$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYZ9B61FZnoOqW5Ny8jNkZ6kibhu$",
                          "variable_value_new": "$activity.definition_activity_02Q8JAK3S24RQ5vsm5HuKAcCnAqdvnFObtb.output.error.message$"
                        }
                      ]
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02Q8JAKA6329O2FSRWByYaOkO3mAxn06FwL",
                    "name": "Completed",
                    "title": "End Workflow",
                    "type": "logic.completed",
                    "base_type": "activity",
                    "properties": {
                      "completion_type": "failed-completed",
                      "continue_on_failure": false,
                      "description": "Completed action",
                      "display_name": "End Workflow",
                      "result_message": "Meraki Organization Name, $workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.input.variable_workflow_02Q8JAJKYYH0X5iG6TOs2IV3XqFcMcVPgu9$, not found.",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "unique_name": "definition_activity_02Q8JAKAZ35722prK0JBhJo9VuzPPuV2rLq",
        "name": "Group",
        "title": "Update Network Appliance VLAN",
        "type": "logic.group",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "description": "Update a the DHCP Pool for a given VLAN",
          "display_as_suggestion": false,
          "display_name": "Update Network Appliance VLAN",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "actions": [
          {
            "unique_name": "definition_activity_02Q8JAKDHHK423u3nOpmQnyY587ucssIlrB",
            "name": "Update Network Appliance VLAN",
            "title": "Update Network Appliance VLAN",
            "type": "workflow.atomic_workflow",
            "base_type": "subworkflow",
            "properties": {
              "continue_on_failure": false,
              "description": "Update a VLAN",
              "display_name": "Update Network Appliance VLAN",
              "input": {
                "variable_workflow_02Q67N2H0HHGW4mDD8AUWfO9eosq0JkcgSM": "$activity.definition_activity_02Q8JAK3S24RQ5vsm5HuKAcCnAqdvnFObtb.output.variable_workflow_02LCRLPN6EZY51pb3GRpQG7QdKWS452YyuL$",
                "variable_workflow_02Q67N2H0HI8O20IssU6pUEVzaP1ac3D38m": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.input.variable_workflow_02Q8JAJKYYM5464nu5HoWx65j7aWGbT27uw$",
                "variable_workflow_02Q67N2H0HJ0G5HrCc17qXrQMyAfeHAIEW0": "",
                "variable_workflow_02Q67N2H0HJS85Mclz7Yzx110ZKGQT3MmaI": "{}",
                "variable_workflow_02Q67N2H0HKK07aYrIB8Vz4wTiwgITxiEEW": "{}",
                "variable_workflow_02Q67N2H0HLBS3Hm3jR8PG1UE27YtwwvEIi": "",
                "variable_workflow_02Q67N2H0HM3K0KnYif8lhlBLGZx9FGfPId": "[]",
                "variable_workflow_02Q67N2H0HMVC5xAMbWZQEVDsHBRU0cZbiq": "",
                "variable_workflow_02Q67N2H0HOEW3of7SjRnXggcOKJczLfYLK": "",
                "variable_workflow_02Q67N2H0HP6O48IYHXwD9P0JFuVyW0r3pR": "",
                "variable_workflow_02Q67N2H0HPYG0NhTPHXkZSAvkApfFnhaJi": "",
                "variable_workflow_02Q67N2H0HQQ87QUA6cD8X2HOgCwDkW1Mpt": "{}",
                "variable_workflow_02Q67N2H0HRI01JSQPY87vNyiZSvDYiMXYE": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.input.variable_workflow_02Q8JAJKYYBVJ5RUbmjK3oXzjFQ0vISypnq$",
                "variable_workflow_02Q67N2H0HS9S1mSkbjSiv31RoWTIl6fkMa": "",
                "variable_workflow_02Q67N2H0HT1K0gvMemIroywiGx8JCewaSU": "",
                "variable_workflow_02Q67N2H0HTTC11SHoZwkr4JoT9lJlORskO": "",
                "variable_workflow_02Q67N2H0HUL41gVZSKn8fIYIWgqfqqBy8B": "[]",
                "variable_workflow_02Q67N2H0HVCW3Zwii0K00xWC4pfiyGfdrj": "",
                "variable_workflow_02Q67N2H0HW4O0o8VWGz4bAaZE29FJmUuMp": "",
                "variable_workflow_02Q67N2H0HXO81WkzqGLxckNwwp3AmtMrfM": [],
                "variable_workflow_02Q67N2H0HXO82uHhlvwjtWrOBjsbXhwBVF": "",
                "variable_workflow_02Q67N2H0HYG00y1QKYwpgEA43eyPnutdqk": ""
              },
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "target": {
                "target_type": "meraki.endpoint",
                "use_workflow_target": true
              },
              "workflow_id": "definition_workflow_02Q67N2H0HEDS7XSne1QZKgEdIzFbXB82sT",
              "workflow_name": "Meraki - Update Network Appliance VLAN"
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02Q8JAKEZVL737Su2yfKf4MwTY9fruF8GN4",
            "name": "Condition Block",
            "title": "Validate the Update Succeeded",
            "type": "logic.if_else",
            "base_type": "activity",
            "properties": {
              "conditions": [],
              "continue_on_failure": false,
              "description": "If-Else condition block",
              "display_name": "Validate the Update Succeeded",
              "skip_execution": false
            },
            "object_type": "definition_activity",
            "blocks": [
              {
                "unique_name": "definition_activity_02Q8JAKFXRWP902SXi30TxANeYKNmnf9MlW",
                "name": "Condition Branch",
                "title": "The Update Failed",
                "type": "logic.condition_block",
                "base_type": "activity",
                "properties": {
                  "condition": {
                    "left_operand": "$activity.definition_activity_02Q8JAKDHHK423u3nOpmQnyY587ucssIlrB.output.variable_workflow_02Q67N2H0III81zC0Ha3QPRm0Bp3yW7YBxo$",
                    "operator": "ne",
                    "right_operand": 200
                  },
                  "continue_on_failure": false,
                  "description": "The Request to Update the Network Appliance VLAN did not return the expected 200 OK. ",
                  "display_name": "The Update Failed",
                  "skip_execution": false
                },
                "object_type": "definition_activity",
                "actions": [
                  {
                    "unique_name": "definition_activity_02Q8JAKHULF874zTMhX2pndIj73JsxncgS0",
                    "name": "Set Variables",
                    "title": "Set Variables",
                    "type": "core.set_multiple_variables",
                    "base_type": "activity",
                    "properties": {
                      "continue_on_failure": false,
                      "description": "Set Variables",
                      "display_name": "Set Variables",
                      "skip_execution": false,
                      "variables_to_update": [
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYY68D3FlzdQowaVoDIZgP6TEMEH$",
                          "variable_value_new": "Updating the VLAN information failed. Please check the error logs for additional information."
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYY0061df1osT56uLvPGCmrCvve4$",
                          "variable_value_new": "$activity.definition_activity_02Q8JAKDHHK423u3nOpmQnyY587ucssIlrB.output.variable_workflow_02Q67N2H0III81zC0Ha3QPRm0Bp3yW7YBxo$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYYVZM7VtAWqfYPsM30jpJMSYAnu$",
                          "variable_value_new": "$activity.definition_activity_02Q8JAKDHHK423u3nOpmQnyY587ucssIlrB.output.variable_workflow_02Q67N2H0IHQG7FVSppUMuJd9c4gfU7JJxz$"
                        },
                        {
                          "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYZ9B61FZnoOqW5Ny8jNkZ6kibhu$",
                          "variable_value_new": "$activity.definition_activity_02Q8JAKDHHK423u3nOpmQnyY587ucssIlrB.output.variable_workflow_02Q67N2H0IK1S2xv07VeCE43Bm5PRixO5Rb$"
                        }
                      ]
                    },
                    "object_type": "definition_activity"
                  },
                  {
                    "unique_name": "definition_activity_02Q8JAKJB9PWQ7RfvLVjLgLSeqyI7DBAwVU",
                    "name": "Completed",
                    "title": "End Workflow",
                    "type": "logic.completed",
                    "base_type": "activity",
                    "properties": {
                      "completion_type": "failed-completed",
                      "continue_on_failure": false,
                      "description": "Completed action",
                      "display_name": "End Workflow",
                      "result_message": "Updating the VLAN information failed. Please check the error logs for additional information.",
                      "skip_execution": false
                    },
                    "object_type": "definition_activity"
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "unique_name": "definition_activity_02Q8JAKK5H9BM31Boe3WrFDhMrE1diEAcPV",
        "name": "Group",
        "title": "Prepare Output For Review",
        "type": "logic.group",
        "base_type": "activity",
        "properties": {
          "continue_on_failure": false,
          "description": "Group",
          "display_as_suggestion": false,
          "display_name": "Prepare Output For Review",
          "skip_execution": false
        },
        "object_type": "definition_activity",
        "actions": [
          {
            "unique_name": "definition_activity_02Q8JAKLT8C286roZMPsA4C8mSyEZJCr3w2",
            "name": "LLM Prompt",
            "title": "Use AI to Analyze Results",
            "type": "activity.openai_structured_output_agent",
            "base_type": "activity",
            "properties": {
              "action_timeout": 180,
              "chat_messages": [
                {
                  "content": "You are a data transformation tool that simplifies complex structures.",
                  "role": "user"
                }
              ],
              "continue_on_failure": false,
              "description": "This workflow uses AI to Format the Output from the Update Network Appliance into a human readable format as opposed to a more complex logic function within the Workflow.\n\nThe choice of the LLM is based on your configured Target in Workflows. ",
              "display_name": "Use AI to Analyze Results",
              "modelName": "gpt-5-mini",
              "runtime_user": {
                "target_default": true
              },
              "skip_execution": false,
              "systemPrompt": "Please take the following JSON Output:\n$activity.definition_activity_02Q8JAKDHHK423u3nOpmQnyY587ucssIlrB.output.variable_workflow_02Q67N2H0IK1S6KibruwnoAuHUxFugkQEN0$\n\nAnd formulate the data into human readable format.",
              "target": {
                "override_workflow_target": true,
                "target_id": "definition_target_02OGWOA691Y2R6SenTABdjAhM0VxK5p6Bov"
              }
            },
            "object_type": "definition_activity"
          },
          {
            "unique_name": "definition_activity_02Q8JAKNE7EJ144uJEhUESCad48xxcZIjFK",
            "name": "Set Variables",
            "title": "Create Output Data",
            "type": "core.set_multiple_variables",
            "base_type": "activity",
            "properties": {
              "continue_on_failure": false,
              "description": "Set Variables",
              "display_name": "Create Output Data",
              "skip_execution": false,
              "variables_to_update": [
                {
                  "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYY68D3FlzdQowaVoDIZgP6TEMEH$",
                  "variable_value_new": "$activity.definition_activity_02Q8JAKLT8C286roZMPsA4C8mSyEZJCr3w2.output.content$"
                },
                {
                  "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYY0061df1osT56uLvPGCmrCvve4$",
                  "variable_value_new": 200
                },
                {
                  "variable_to_update": "$workflow.definition_workflow_02Q8JAJKHHLIQ3y30zG002SliYESRdU7YU5.output.variable_workflow_02Q8JAJKYYVZM7VtAWqfYPsM30jpJMSYAnu$",
                  "variable_value_new": "Workflow Executed Properly"
                }
              ]
            },
            "object_type": "definition_activity"
          }
        ]
      }
    ],
    "categories": [
      "category_1BMfMXSnJMyt5Ihqi7rWJr5N8cf"
    ]
  },
  "targets": {
    "definition_target_02OGWOA691Y2R6SenTABdjAhM0VxK5p6Bov": {
      "unique_name": "definition_target_02OGWOA691Y2R6SenTABdjAhM0VxK5p6Bov",
      "name": "OpenAI Account Target",
      "title": "OpenAI Account Target",
      "type": "target.openai_endpoint",
      "base_type": "target",
      "object_type": "definition_target",
      "properties": {
        "default_runtime_user_id": "definition_runtime_user_02OGWO7LBCKDE6U6tjixS0xXLTpAGx0jAJV",
        "description": "",
        "display_name": "OpenAI Account Target"
      }
    }
  },
  "runtime_users": {
    "definition_runtime_user_02OGWO7LBCKDE6U6tjixS0xXLTpAGx0jAJV": {
      "unique_name": "definition_runtime_user_02OGWO7LBCKDE6U6tjixS0xXLTpAGx0jAJV",
      "name": "OpenAI Account Keys",
      "title": "OpenAI Account Keys",
      "type": "runtime_user.openai_credentials",
      "base_type": "runtime_user",
      "object_type": "definition_runtime_user",
      "properties": {
        "base_type": "runtime_user",
        "display_name": "OpenAI Account Keys",
        "key": "*****",
        "title": "OpenAI Account Keys",
        "type": "runtime_user.openai_credentials",
        "unique_name": "definition_runtime_user_02OGWO7LBCKDE6U6tjixS0xXLTpAGx0jAJV"
      }
    }
  },
  "atomic_workflows": [
    "definition_workflow_02Q67N2H0HEDS7XSne1QZKgEdIzFbXB82sT"
  ],
  "dependent_workflows": [
    "definition_workflow_02M605GS81XN44qr4RBWrJ6Zazk7k0ArIYX",
    "definition_workflow_02LCR4UKH38PM6zDR4Bx2b2J165gCF1mhvh",
    "definition_workflow_02Q67N2H0HEDS7XSne1QZKgEdIzFbXB82sT"
  ]
}