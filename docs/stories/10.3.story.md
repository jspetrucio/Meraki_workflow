# Story 10.3: Device Reboot & LED Blink

> **Epic:** 10 - Advanced Switching, Wireless & Platform
> **Sprint:** S9
> **Priority:** P0 (core operations)
> **Points:** 2
> **Type:** Backend/Python
> **Agent:** @dev
> **Depends on:** None (independent)

---

## Status

**Draft**

---

## Story

**As a** network admin,
**I want** to remotely reboot devices and blink LEDs,
**so that** I can troubleshoot and identify physical devices.

---

## Acceptance Criteria

1. `reboot_device` reboots a device by serial with confirmation
2. `blink_leds` blinks LEDs for identification (configurable duration)
3. Natural language: "reboot AP-lobby" and "blink the LEDs on SW-Core for 30 seconds" work
4. Reboot requires explicit confirmation dialog

---

## Scope

| Layer | New Items | Details |
|-------|-----------|---------|
| `api.py` | 2 methods | `reboot_device`, `blink_leds` |
| `agent_tools.py` | 2 schemas | meraki-specialist tools |
| Safety | DANGEROUS (reboot) / SAFE (blink) | |

**Note:** This story does not require discovery.py or config.py functions -- direct API actions only.

---

## Implementation Pattern

This story follows a simplified implementation pattern (no discovery/config layer):

1. `api.py` -- Add SDK wrapper methods with `@log_api_call`
2. `agent_router.py` -- Register in `FUNCTION_REGISTRY`
3. `agent_tools.py` -- Add tool schemas + TOOL_SAFETY classification
4. `safety.py` -- Register in `SAFETY_CLASSIFICATION`
5. `tests/` -- Add comprehensive tests

**Note:** Both `SAFETY_CLASSIFICATION` (safety.py) and `TOOL_SAFETY` (agent_tools.py) must be updated.

---

## Tasks

- [ ] Add `reboot_device` and `blink_leds` to api.py with `@log_api_call`
- [ ] Register device reboot and LED blink functions in FUNCTION_REGISTRY (agent_router.py)
- [ ] Add 2 tool schemas to agent_tools.py (meraki-specialist)
- [ ] Register safety classifications in safety.py (DANGEROUS for reboot, SAFE for blink) and agent_tools.py (TOOL_SAFETY)
- [ ] Ensure reboot tool triggers confirmation dialog via safety layer
- [ ] Add tests (target: >= 90% coverage)
- [ ] Verify all schemas pass `validate_tool_schema()` with `additionalProperties: False`

---

## File List

(To be populated during implementation)

---
